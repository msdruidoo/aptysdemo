<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="sale_order_form" model="ir.ui.view">
			<field name="name">sale.order.form</field>
			<field name="model">sale.order</field>
			<field name="inherit_id" ref="sale.view_order_form"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='order_line']/tree/field[@name='price_subtotal']" position="before">
					<field name="request_total"/>
					<field name="request_ids" invisible="1"/>
					<button name="open_purchase_request" type="object" class="oe_highlight"
					        icon="fa-bars"/>
					<field name="request_margin" optional="hide"/>
				</xpath>
			</field>
		</record>
		<record id="sale_purchase_request_form" model="ir.ui.view">
			<field name="name">sale.order.line.form</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">
				<form string="">
					<sheet>
						<field name="request_ids">
							<tree editable="bottom">
								<field name="supplier_id"/>
								<field name="product_id"/>
								<field name="quantity"/>
								<field name="price_unit"/>
								<field name="price_subtotal"/>
								<field name="currency_id" invisible="1"/>
							</tree>
						</field>
					</sheet>
					<footer>
						<button name="validate_close" type="object" string="Save" class="btn-primary"/>
						<button string="Cancel" class="btn-secondary" special="cancel"/>
					</footer>
				</form>
			</field>
		</record>
	</data>
</odoo>